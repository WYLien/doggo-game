<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ç‹—ç‹—çš„æˆ€æ„›å­¸æ¸¬ä»»å‹™</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background-image: url('background.jpg');
      background-size: cover;
      background-position: center;
      margin: 0;
      padding: 20px;
      text-align: center;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    #title {
      width: 30%;
      max-width: 400px;
      margin: 0 auto 10px;
      opacity: 0;
      transition: opacity 1s ease-in;
    }

    #dialogue-box {
      position: relative;
      background-image: url('dialogue-box.png');
      background-size: cover;
      background-position: center;
      width: 60%;
      max-width: 500px;
      height: 100px;
      padding: 10px 30px 10px 70px;
      margin: 10px auto 20px;
      text-align: left;
      font-size: 18px;
      line-height: 1.6;
      display: flex;
      align-items: center;
      border-radius: 16px;
    }

    #avatar {
      position: absolute;
      left: 22px;
      top: 10px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #fff;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
    }

    #next-btn {
      background-color: transparent;
      border: none;
      font-size: 36px;
      cursor: pointer;
      color: #ff69b4;
      margin-top: 5px;
      transition: transform 0.2s;
    }

    #next-btn:hover {
      transform: scale(1.1);
      color: #ff1493;
    }

    #overlay-message {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    #overlay-message p {
      font-size: 24px;
      margin-bottom: 20px;
    }

    #media-container {
      overflow: hidden;
      margin-bottom: 10px;
      width: 100%;
      height: 50vh; /* æ§åˆ¶åª’é«”å€åŸŸé«˜åº¦ */
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #media-container img,
    #media-container video {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      display: block;
      margin: 0 auto;
      border-radius: 10px;
      transition: transform 0.3s;
    }

    .zoomable {
      cursor: zoom-in;
    }

    #zoom-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
    }

    #zoom-modal img {
      max-width: 95vw;
      max-height: 95vh;
      border-radius: 10px;
    }

    video::-webkit-media-controls,
    video::-moz-media-controls {
      display: none !important;
    }
  </style>
</head>
<body>
  <audio id="bg-music" src="background-music.mp3" loop></audio>

  <div id="overlay-message">
    <p>è«‹é–‹è²éŸ³ï¼Œä»¥è†è½å°å‹•ç‰©å«è²ï½ä¸¦è«‹ä»¥é›»è…¦éŠç©ï¼Œä»¥ç²å¾—æœ€ä½³é«”é©—ï½</p>
    <button onclick="startIntro()">â–¶</button>
  </div>

  <div id="main-container" style="display: none;">
    <img id="title" src="title-banner.png" alt="æ¨™é¡Œæ©«å¹…">

    <div id="media-container"></div>

    <div id="dialogue-box">
      <img id="avatar" src="dog.png" alt="è§’è‰²é ­åƒ">
      <div id="dialogue-text">ç‹—ç‹—ï¼šå—šå—šï½ä»Šå¤©ä¹Ÿè¢«å¥½å¤šé…å°å·¦æ»‘äº†â‹¯â‹¯</div>
    </div>

    <button id="next-btn" onclick="nextDialogue()">â–¶</button>
  </div>

  <div id="zoom-modal" onclick="closeZoom()">
    <img id="zoom-img" src="" alt="æ”¾å¤§åœ–ç‰‡">
  </div>

  <script>
    const bgMusic = document.getElementById("bg-music");
    bgMusic.volume = 0.5;

    function startIntro() {
      document.getElementById("overlay-message").style.display = 'none';
      document.getElementById("main-container").style.display = 'block';
      document.getElementById("title").style.opacity = 1;
      bgMusic.play().catch(err => {
        console.log("éŸ³æ¨‚æ’­æ”¾å¤±æ•—ï¼š", err);
      });
      showMedia('help-dog.mp4', 'video');
    }

    const dialogues = [
      { speaker: 'dog', text: 'æ¬¸æ¬¸æ¬¸ï¼é€™æ˜¯èª°ï¼ä¸€éš»è²“è²“ï¼Ÿæ„Ÿè¦ºå¥½å¯æ„›ï¼Œç«‹åˆ»å³æ»‘ï¼', media: 'sad-dog.jpg', type: 'image' },
      { speaker: 'system', text: 'é…å°æˆåŠŸï¼', media: 'match.mp4', type: 'video' },
      { speaker: 'narrator', text: 'ç‹—ç‹—å’Œè²“è²“é–‹å§‹å¤©å¤©èŠå¤©ï¼Œä¸€èŠå°±æ˜¯ä¸€å€‹æœˆã€‚', media: 'dog-and-cat.jpg', type: 'image' },
      { speaker: 'dog', text: 'é‚£å€‹â‹¯â‹¯è²“è²“ï¼Œä½ é¡˜æ„å’Œæˆ‘è¦‹é¢å—ï¼Ÿ', media: 'dog-and-cat.jpg', type: 'image' },
      { speaker: 'cat', text: 'ä½ ä¸æ˜¯å¿«è€ƒå­¸æ¸¬äº†å—ï¼Ÿ', media: 'dog-and-cat.jpg', type: 'image' },
      { speaker: 'cat', text: 'å¦‚æœä½ è€ƒåˆ°å¹³å‡é ‚æ¨™ï¼Œæˆ‘å°±ç­”æ‡‰è¦‹ä½ å–”â™¥', media: 'dog-and-cat.jpg', type: 'image' },
      { speaker: 'dog', text: 'è›¤ï¼Ÿæˆ‘ä¸å¤ªæœƒå”¸æ›¸â‹¯â‹¯', media: 'dog-and-cat.jpg', type: 'image' },
      { speaker: 'dog', text: 'æˆ‘è¦ä¾†æŸ¥æŸ¥æœ‰æ²’æœ‰æœ‰æ•ˆå­¸ç¿’çš„æ–¹æ³•â‹¯â‹¯', media: 'dog-and-cat.jpg', type: 'image' },
      { speaker: 'narrator', text: 'ï¼ˆç‹—ç‹—ç™¼ç¾äº†ç¥å¥‡çš„ã€Œçµ„å¡Šè¨˜æ†¶æ³•ã€ï¼ï¼‰ï¼ˆé»æ“Šåœ–ç‰‡æ”¾å¤§æŸ¥çœ‹ï¼‰', media: 'explanation.jpg', type: 'image' },
      { speaker: 'narrator', text: 'ä¸æ“…é•·è®€æ›¸çš„ç‹—ç‹—é›–ç„¶ç™¼ç¾äº†ã€Œçµ„å¡Šè¨˜æ†¶æ³•ã€é€™å€‹æŠ€å·§ï¼Œä½†æ˜¯ä»ç„¶æ‰‹è¶³ç„¡æªã€‚ä½ å¯ä»¥æ•‘æ•‘ä»–ï¼Œé™ªä»–åšå¹¾é“ç·´ç¿’é¡Œå—ï¼Ÿ', media: 'help-dog.mp4', type: 'video' },
      { speaker: 'narrator', text: 'ï¼ˆç¹¼çºŒéŠæˆ²ï¼Œæ•‘æ•‘ç‹—ç‹—ï¼ï¼‰', media: 'help-dog.mp4', type: 'video' },
      { speaker: 'narrator', text: 'å…ˆå¾åœ‹æ–‡ç§‘é–‹å§‹å§ï¼è«‹é–±è®€ä¸¦ç†è§£é€™ç¯‡èª²æ–‡ï½', media: 'chinese-text.jpg', type: 'image' },
      { speaker: 'narrator', text: 'ç¾åœ¨ä¾†é€²è¡Œçµ„å¡Šè¨˜æ†¶ç·´ç¿’å§ï¼è«‹ç¨ç­‰ï¼Œé¡Œç›®æ­£åœ¨åŠªåŠ›ç”Ÿæˆä¸­ï½', media: 'https://wordwall.net/tc/embed/d15b6b1e6c504f27abf20042434513ae?themeId=61&templateId=2&fontStackId=0', type: 'iframe' },
      { speaker: 'dog', text: 'å¥½åƒæ²’æœ‰æƒ³åƒä¸­é‚£éº¼é›£è€¶ï¼ï¼ä½†æ˜¯é‚„è¦å†æ›´ç†Ÿæ‚‰ï½', media: 'dog-happy.mp4', type: 'video' },
      { speaker: 'narrator', text: 'æ¥ä¸‹ä¾†å¹«åŠ©ç‹—ç‹—å­¸ç¿’è‹±æ–‡ç§‘å§ï¼è«‹ç€è¦½ä¸€ä¸‹é€™äº›å–®å­—ã€‚è¦æ€éº¼èƒŒèª¦æ¯”è¼ƒå¥½å‘¢ï¼Ÿ', media: 'english-text.jpg', type: 'image' },
      { speaker: 'narrator', text: 'å¥½åƒå¯ä»¥æŠŠé€™äº›å­—åˆ†æˆä¸åŒçµ„å¡Šå”·ï¼ä¾†å¹«åŠ©ç‹—ç‹—å§ï½ï¼ˆè«‹ç¨ç­‰ï¼Œé¡Œç›®æ­£åœ¨åŠªåŠ›ç”Ÿæˆä¸­ï½ï¼‰', media: 'https://wordwall.net/tc/embed/ed7b9c4a5ddb4cc8a78b279ff4e68d77?themeId=60&templateId=2&fontStackId=0', type: 'iframe' },
      { speaker: 'dog', text: 'åˆ†æˆä¸åŒé¡åˆ¥å¾Œå†èƒŒèª¦ï¼Œå¥½åƒæœ‰æ¯”è¼ƒå®¹æ˜“è€¶ï¼', media: 'dog-happy.mp4', type: 'video' },
      { speaker: 'dog', text: 'å¯æ˜¯é‚„æœ‰æˆ‘æœ€ä¸æœƒçš„è‡ªç„¶ç§‘è¦è®€ğŸ™€', media: 'help-dog.mp4', type: 'video' },
      { speaker: 'narrator', text: 'è«‹å¹«ç‹—ç‹—çœ‹ä¸€ä¸‹è‡ªç„¶ç§‘èª²æ–‡ã€‚è©²æ€éº¼ä½¿ç”¨çµ„å¡Šè¨˜æ†¶æ³•ä¾†å¹«ä»–å‘¢ï¼Ÿ', media: 'science-text.jpg', type: 'image' },
      { speaker: 'narrator', text: 'è©¦è©¦çœ‹é€™æ¨£åˆ†é¡å§ï¼ï¼ˆè«‹ç¨ç­‰ï¼Œé¡Œç›®æ­£åœ¨åŠªåŠ›ç”Ÿæˆä¸­ï½ï¼‰', media: 'https://wordwall.net/tc/embed/082788262f3d42eab9a05a04bda301f5?themeId=55&templateId=2&fontStackId=0', type: 'iframe' },
      { speaker: 'dog', text: 'å—·å—·ï¼æ²’æƒ³åˆ°ç«Ÿç„¶çœŸçš„èƒŒèµ·ä¾†äº†ï½', media: 'dog-happy.mp4', type: 'video' },
      { speaker: 'dog', text: 'æœ€å¾Œæ˜¯ç¤¾æœƒç§‘ï¼Œå°æˆ‘ä¾†èªªæ‡‰è©²æ˜¯ä¸€å°å¡Šéª¨é ­è€Œå·²ğŸ˜¼', media: 'dog-happy.mp4', type: 'video' },
      { speaker: 'narrator', text: 'è«‹ç€è¦½ç¤¾æœƒç§‘èª²æ–‡ã€‚', media: 'social-text.jpg', type: 'image' },
      { speaker: 'narrator', text: 'ä½ æ˜¯ä¸æ˜¯ä¹Ÿè·Ÿç‹—ç‹—ä¸€æ¨£ï¼Œå·²ç¶“é§•è¼•å°±ç†Ÿäº†å‘¢ï¼Ÿï¼ˆè«‹ç¨ç­‰ï¼Œé¡Œç›®æ­£åœ¨åŠªåŠ›ç”Ÿæˆä¸­ï½ï¼‰', media: 'https://wordwall.net/tc/embed/fadcbb6fa7d441f39b12f8a54941b041?themeId=27&templateId=2&fontStackId=0', type: 'iframe' },
      { speaker: 'narrator', text: 'åœ¨ä½ çš„å¹«åŠ©ä¸‹ï¼Œç‹—ç‹—æˆåŠŸåœ¨å­¸æ¸¬ä¸­è€ƒåˆ°äº†é ‚æ¨™ï¼ï¼', media: 'dog-high-grade.mp4', type: 'video' },
      { speaker: 'narrator', text: 'é›–ç„¶èˆ‡è²“è²“çš„æ„Ÿæƒ…é‚„è¦æ…¢æ…¢åŸ¹é¤Šï¼Œä½†æ˜¯çµ‚æ–¼ç²å¾—äº†è¦‹é¢çš„æ©Ÿæœƒäº†ğŸ˜»é€™ä¸€åˆ‡éƒ½è¦æ­¸åŠŸæ–¼ä½ å°ç‹—ç‹—çš„å¹«åŠ©ï½', media: 'dog-and-cat-together-forever.mp4', type: 'video' },
      { speaker: 'narrator', text: 'ï¼ˆé‡æ–°æ•´ç†é é¢å³å¯é‡æ–°é–‹å§‹éŠæˆ²ï¼‰', media: 'dog-and-cat-together-forever.mp4', type: 'video' },
    ];

    let index = -1;

    function nextDialogue() {
      index++;
      if (index >= dialogues.length) {
        document.getElementById("dialogue-text").innerText = "ï¼ˆé‡æ–°æ•´ç†é é¢å³å¯é‡æ–°é–‹å§‹éŠæˆ²ï¼‰";
        document.getElementById("next-btn").innerText = "â–¶";
        document.getElementById("avatar").style.display = "none";
        return;
      }

      const current = dialogues[index];
      const textBox = document.getElementById("dialogue-text");
      const avatar = document.getElementById("avatar");

      textBox.innerText =
        (current.speaker === 'dog' ? 'ç‹—ç‹—ï¼š' :
         current.speaker === 'cat' ? 'è²“è²“ï¼š' :
         '') + current.text;

      if (current.speaker === 'dog') {
        avatar.src = 'dog.png';
        avatar.style.display = 'block';
      } else if (current.speaker === 'cat') {
        avatar.src = 'cat.png';
        avatar.style.display = 'block';
      } else {
        avatar.style.display = 'none';
      }

      showMedia(current.media, current.type);
    }

function showMedia(src, type) {
  const container = document.getElementById("media-container");
  container.innerHTML = '';

  if (type === 'image') {
    const img = document.createElement("img");
    img.src = src;
    img.alt = "ç‹—ç‹—èˆ‡è²“è²“çš„å°è©±å»¶çºŒ";
    img.loading = "lazy";

    // åˆ¤æ–·æ˜¯å¦ç‚ºå¯æ”¾å¤§çš„åœ–ç‰‡
    const zoomableImages = [
      'explanation.jpg',
      'chinese-text.jpg',
      'english-text.jpg',
      'science-text.jpg',
      'social-text.jpg'
    ];

    if (zoomableImages.includes(src)) {
      img.classList.add("zoomable");
      img.onclick = () => {
        document.getElementById("zoom-img").src = src;
        document.getElementById("zoom-modal").style.display = "flex";
      };
    }

    container.appendChild(img);
  } else if (type === 'video') {
    const video = document.createElement("video");
    video.src = src;
    video.autoplay = true;
    video.loop = true;
    video.muted = false;
    video.removeAttribute("controls");
    container.appendChild(video);
  } else if (type === 'iframe') {
    const iframe = document.createElement("iframe");
    iframe.src = src;
    iframe.width = "500";
    iframe.height = "380";
    iframe.frameBorder = "0";
    iframe.allowFullscreen = true;
    container.appendChild(iframe);
  }
}

    function openZoom(src) {
      const zoomModal = document.getElementById("zoom-modal");
      const zoomImg = document.getElementById("zoom-img");
      zoomImg.src = src;
      zoomModal.style.display = "flex";
    }

    function closeZoom() {
      document.getElementById("zoom-modal").style.display = "none";
    }
  </script>
</body>
</html>